
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>常见问题 &mdash; ODPS 1.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="ODPS 1.0 documentation" href="../../index.html" />
    <link rel="up" title="ODPS XLab/XLib" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="odps_xlib_appendix.html" title="附录"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="odps_xlib_matrix_calc.html" title="矩阵计算"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">ODPS 1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">ODPS XLab/XLib</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="id1">
<h1>常见问题<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="transaction-count">
<h2>关联规则输出表 transaction_count 列是什么意思？<a class="headerlink" href="#transaction-count" title="Permalink to this headline">¶</a></h2>
<p>transaction_count是支持度计数，表示支持该规则的事务数，比如对应规则:18158==&gt;16692 &amp; 21330。transaction_count=1063，这个1063是&#8221;18158==&gt;16692 &amp; 21330&#8221;出现了1063次</p>
</div>
<div class="section" id="id2">
<h2>关联规则调用中序列必须是一个数字类型是吧？<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>long和datetime都可以。</p>
</div>
<div class="section" id="param-maxtransactionwindowlen">
<h2>参数 &#64;param maxTransactionWindowLen 是什么意思？<a class="headerlink" href="#param-maxtransactionwindowlen" title="Permalink to this headline">¶</a></h2>
<p>序列模式下最大的时序窗口长度(sequence)，如果sequence为时间类型则需要转换为对应时间差的毫秒级偏移量，如果为非正整数则表示无限制。例子：规则a=&gt;b=&gt;c时间对应为0,1,2 ，那么时序窗口长度就是2-0=2，如果这个值大于maxTransactionWindowLen ，则该规则被过滤掉。</p>
</div>
<div class="section" id="xlab">
<h2>关联规则任务启动之后，可以关闭xlab吗？<a class="headerlink" href="#xlab" title="Permalink to this headline">¶</a></h2>
<p>不可以，里面是分了几个job进行计算的，关闭了流程就走不下去了。</p>
</div>
<div class="section" id="exceptionbase-sortrank-only-support-sorting-double-cols">
<h2>ExceptionBase: sortrank only support sorting double cols!<a class="headerlink" href="#exceptionbase-sortrank-only-support-sorting-double-cols" title="Permalink to this headline">¶</a></h2>
<p>sort_rank -c指定的sort目前只支持double类型。如果只是需要求解分位数可以调用percentile函数。</p>
</div>
<div class="section" id="sort-rank">
<h2>sort_rank行数上限是多少？<a class="headerlink" href="#sort-rank" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>指定group字段时，输入表规模上限为10亿行规模下能支持5个选择列(-c参数选择的列)，11亿行规模下能支持4个选择列，15亿行规模下能支持3个选择列。</li>
<li>不指定group字段时， 10亿行规模下支持25个选择列，20亿行规模下能支持12个选择列。</li>
<li>XLab脚本调用是上面规模的两倍。</li>
</ul>
</div>
<div class="section" id="kmeans">
<h2>Kmeans三个输出表分别是什么意思？<a class="headerlink" href="#kmeans" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>idxTableName：存放每个点的聚类编号。一列，列名为cluster_index，long型，行数等于输入表总行数。每行的值表示输入表对应行表示的点的聚类编号</li>
<li>centerTableName：存储聚类质心位置。列数等于输入表(有选中则等于选中列总数) 行数等于聚类数， 每行表示一个聚类的最终的聚类质心位置。</li>
<li>clusterCountTableName：存储每个聚类中的点的总数。一列，列名为cluster_count，long型，行数等于聚类数，每行表示centerTableName中对应行所表示的聚类质心的类中所包含的聚类点的总数。</li>
</ul>
</div>
<div class="section" id="id3">
<h2>随机森林预测为什么使用的资源多？<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>在随机森林预测中，数据膨胀的倍数等于随机森林中树的棵树。最终的instance数目=树的颗数 * 单棵树处理所有预测数据需要的instance数目。</p>
</div>
<div class="section" id="gbrt">
<h2>GBRT是否支持缺失值？<a class="headerlink" href="#gbrt" title="Permalink to this headline">¶</a></h2>
<p>不支持。</p>
</div>
<div class="section" id="id4">
<h2>GBRT是否支持分类？<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>不支持。现在的每一颗树都是一颗回归树。</p>
</div>
<div class="section" id="id5">
<h2>GBRT损失函数是什么？<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>现在的GBRT只支持最小二乘损失函数。</p>
</div>
<div class="section" id="id6">
<h2>如何转稀疏矩阵？<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>可以使用普通表转矩阵</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">DataConvert</span><span class="o">.</span><span class="n">tableToSparseMatrix</span><span class="p">(</span><span class="s">&quot;appendinputleft&quot;</span><span class="p">,</span> <span class="s">&quot;appendinputleft_out&quot;</span><span class="p">,</span> <span class="n">selectedColIndex</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>如果要转的稀疏矩阵的列数超过了普通表可以表示的最大列数的情况下使用Key-value转稀疏矩阵</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">DataConvert</span><span class="o">.</span><span class="n">KVToSparseMatrix</span><span class="p">(</span><span class="s">&quot;kv_table_name&quot;</span><span class="p">,</span> <span class="s">&quot;map_table_name&quot;</span><span class="p">,</span> <span class="s">&quot;out_matrix_name&quot;</span><span class="p">,</span>
    <span class="n">kvMatColsName</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;col1&#39;</span><span class="p">],</span> <span class="n">colDelimiter</span> <span class="o">=</span> <span class="s">&quot;,&quot;</span><span class="p">,</span> <span class="n">valDelimiter</span> <span class="o">=</span> <span class="s">&quot;:&quot;</span><span class="p">,</span> <span class="n">isAscii</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h2>在随机森林预测中，怎么输出概率？<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>随机森林预测现在只支持二分类情况下的概率输出。在随机森林预测界面中，选中二分类，同时填入要输出的分类的值，在预测输出表中就可以看到第二列为输入分类值的概率。</p>
</div>
<div class="section" id="id8">
<h2>随机森林训练中为什么会出现小于最小节点个数的节点？<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>在随机森林训练的时候，当一个节点分裂时，有小于二个不可分节点时，这个节点是会分裂的。</p>
</div>
<div class="section" id="id9">
<h2>随机森林中为什么会出现特征熵的增益率不是最大，但是被选中的情况？<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p>在随机森林C4.5算法中，为了防止过拟合，在选择特征的时候，选择的是熵的增益大于平均增益中增益率最大的特征。</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">常见问题</a><ul>
<li><a class="reference internal" href="#transaction-count">关联规则输出表 transaction_count 列是什么意思？</a></li>
<li><a class="reference internal" href="#id2">关联规则调用中序列必须是一个数字类型是吧？</a></li>
<li><a class="reference internal" href="#param-maxtransactionwindowlen">参数 &#64;param maxTransactionWindowLen 是什么意思？</a></li>
<li><a class="reference internal" href="#xlab">关联规则任务启动之后，可以关闭xlab吗？</a></li>
<li><a class="reference internal" href="#exceptionbase-sortrank-only-support-sorting-double-cols">ExceptionBase: sortrank only support sorting double cols!</a></li>
<li><a class="reference internal" href="#sort-rank">sort_rank行数上限是多少？</a></li>
<li><a class="reference internal" href="#kmeans">Kmeans三个输出表分别是什么意思？</a></li>
<li><a class="reference internal" href="#id3">随机森林预测为什么使用的资源多？</a></li>
<li><a class="reference internal" href="#gbrt">GBRT是否支持缺失值？</a></li>
<li><a class="reference internal" href="#id4">GBRT是否支持分类？</a></li>
<li><a class="reference internal" href="#id5">GBRT损失函数是什么？</a></li>
<li><a class="reference internal" href="#id6">如何转稀疏矩阵？</a></li>
<li><a class="reference internal" href="#id7">在随机森林预测中，怎么输出概率？</a></li>
<li><a class="reference internal" href="#id8">随机森林训练中为什么会出现小于最小节点个数的节点？</a></li>
<li><a class="reference internal" href="#id9">随机森林中为什么会出现特征熵的增益率不是最大，但是被选中的情况？</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="odps_xlib_appendix.html" title="附录"
             >next</a></li>
        <li class="right" >
          <a href="odps_xlib_matrix_calc.html" title="矩阵计算"
             >previous</a> |</li>
        <li><a href="../../index.html">ODPS 1.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >ODPS XLab/XLib</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright Alibaba 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  <!-- 请把脚本放到 body 元素内 -->
  </body>
</html>